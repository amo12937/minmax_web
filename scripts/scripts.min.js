(function(){"use strict";!function(a){return angular.module(a,["ng","amo.module.translator"]).value(""+a+".config",{resourceDir:"res/minmax/translator/",resourceExt:".json",loader:{trans:{rules:[{key:"en",displayName:"English"},{key:"jp",displayName:"日本語"}],defaultRule:"jp"}}})}("amo.minmax.module.translator")}).call(this),function(){"use strict";!function(a){return angular.module(a).factory(""+a+".api.GetRule",["$http",""+a+".config",function(a,b){return function(){var c;return c={getPath:function(a,c){return null==c&&(c=b.resourceExt),""+b.resourceDir+a+c},request:function(b,d){return a.get(c.getPath(b,d))}}}}])}("amo.minmax.module.translator")}.call(this),function(){"use strict";!function(a){var b,c;return b="amo.module.translator",c="trans",angular.module(a).config([""+b+".translatorCollectionProvider",function(a){return a.registerTranslator(c)}]).provider(""+a+".transResolver",function(){return{$get:function(){return{}},getResolver:function(){return["$location",""+b+".translatorCollection",""+a+".api.GetRule",function(a,b,d){var e,f,g;return f=a.search(),e=f.lang||"ja",g=b.getTranslator(c),g.setRule({}),d().request(""+e+"/"+c).then(function(a){g.setRule(a.data)})}]}}})}("amo.minmax.module.translator")}.call(this),function(){"use strict";!function(a){var b,c,d;return d=0,c=1,b=function(a){return 1-a},angular.module(a,["ng"]).factory(""+a+".RandomScoreCreator",function(){return function(a,b){return function(){return Math.floor(Math.random()*(b-a+1))+a}}}).factory(""+a+".Board",[""+a+".RandomScoreCreator",function(a){return function(e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t;return null==g&&(g=7),null==h&&(h=-10),null==i&&(i=10),j=a(h,i),l=function(){t=[];for(var a=0,b=g-1;b>=0?b>=a:a>=b;b>=0?a++:a--)t.push(a);return t}.apply(this),k=function(a){var b,e;return 0<=(b=a[d])&&g>b&&0<=(e=a[c])&&g>e},p=function(){var a,b,e;return e=function(){var c,d,e;for(e=[],c=0,d=l.length;d>c;c++)a=l[c],e.push(function(){var c,d,e;for(e=[],c=0,d=l.length;d>c;c++)b=l[c],e.push({score:j(a,b),pos:[a,b],selectable:!0});return e}());return e}(),function(a){return k(a)?e[a[d]][a[c]]:{score:outside,pos:[a[d],a[c]],selectable:!1}}}(),m=function(a,b,e){return a[c]=b,a[d]=e,a}([],e,f),s=c,o=[0,0],n=[],r=[],q={"const":{rank:function(){return g},TURN:{BLACK:c,WHITE:d}},current:{player:function(){return m[s]},turn:function(a){return void 0===a?s:s===a},value:function(a){return o[a]-o[b(a)]},score:function(a){return o[a]},getSelectableList:function(){var a;return void 0===n[s]?function(){var b,c,d;for(d=[],a=b=0,c=g*g-1;c>=0?c>=b:b>=c;a=c>=0?++b:--b)d.push([Math.floor(a/g),a%g]);return d}():s===c?function(){var b,c,e;for(e=[],b=0,c=l.length;c>b;b++)a=l[b],p([n[d],a]).selectable&&e.push([n[d],a]);return e}():function(){var b,d,e;for(e=[],b=0,d=l.length;d>b;b++)a=l[b],p([a,n[c]]).selectable&&e.push([a,n[c]]);return e}()}},get:function(a){return p(a).score},used:function(a){return!p(a).selectable},selectable:function(a){var c;return k(a)?(c=b(s),void 0===n[s]?!0:a[c]!==n[c]?!1:p(a).selectable):!1},select:function(a){var c,d,e;return q.selectable(a)?(d=p(a),c=n,n=d.pos,o[s]+=d.score,d.selectable=!1,e=s,s=b(s),r.push(function(){s=e,d.selectable=!0,o[s]-=d.score,n=c}),!0):!1},undo:function(){var a;return"function"==typeof(a=r.pop())?a():void 0},isFinished:function(){var a,b,e,f;if(void 0===n[s])return!1;for(b=[n[d],n[c]],e=0,f=l.length;f>e;e++)if(a=l[e],b[s]=a,p(b).selectable)return!1;return!0}}}}])}("amo.minmax.module.board")}.call(this),function(){"use strict";!function(a){return angular.module(""+a+".controllers",["ng","ngRoute","amo.module.game.game","amo.module.game.player","amo.minmax.module.board","amo.minmax.module.translator"]).controller(""+a+".controllers.minmax",["$location","$route","$scope","amo.module.game.game.Game","amo.module.game.player.Player","amo.module.game.player.strategy.Man","amo.module.game.player.strategy.Com.AlphaBeta","amo.minmax.module.board.Board","amo.module.translator.translatorCollection",function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return u={MAN:"MAN",COM:"COM"},t={MAN:f,COM:g},v=function(a,b){return a?Number(a):b},l=function(a,b,c,d){return t[a](b,Math.max(c,0),Math.max(d-1,0))},w=i.getTranslator("trans"),q=a.search(),p={min:v(q.min,-10),max:v(q.max,10),rank:v(q.rank,7),p1:q.p1||u.MAN,p1_name:q.p1_name||w("You"),p1_level:v(q.p1_level,5),p1_delay:v(q.p1_delay,100),p1_win:v(q.p1_win,0),p2:q.p2||u.COM,p2_name:q.p2_name||w("Com"),p2_level:v(q.p2_level,5),p2_delay:v(q.p2_delay,100),p2_win:v(q.p2_win,0),draw:v(q.draw,0),auto:"true"===q.auto},c.levels=[1,2,3,4,5,6,7,8,9],c.p2_level=p.p2_level,r=e(p.p1_name),s=e(p.p2_name),j=h(r,s,p.rank,p.min,p.max),o=l(p.p1,j,p.p1_delay,p.p1_level),k=l(p.p2,j,p.p2_delay,p.p2_level),r.changeStrategy(o),s.changeStrategy(k),c.board=j,c.rankList=function(){x=[];for(var a=0,b=p.rank-1;b>=0?b>=a:a>=b;b>=0?a++:a--)x.push(a);return x}.apply(this),c.p1=r,c.p2=s,n={getNextPlayer:function(){return j.current.player()},end:function(){var b;return console.log("end"),b=j.current.value(j["const"].TURN.BLACK),b>0?(c.winner={name:r.name()},p.p1_win++):0>b?(c.winner={name:s.name()},p.p2_win++):p.draw++,p.auto?(a.search("p1_win",p.p1_win),a.search("p2_win",p.p2_win),a.search("draw",p.draw),c.play()):void 0},stop:function(){return console.log("stop")}},m=d(n),m.start(),c.play=function(){return a.search("p2_level",c.p2_level),b.reload()},c.clickCell=function(a,b){j.current.player().select([a,b])}}])}("amo.minmax")}.call(this),function(){"use strict";!function(a){return angular.module(a).config(["$routeProvider","amo.minmax.module.translator.transResolverProvider",function(b,c){return b.when("/",{templateUrl:"templates/minmax.html",controller:""+a+".minmax",resolve:{trans:c.getResolver()}})}])}("amo.minmax.controllers")}.call(this),function(){"use strict";!function(a){return a.module("ngLoadScript",[]).directive("script",function(){return{restrict:"E",scope:!1,link:function(a,b,c){var d,e;if("text/javascript-lazy"===c.type)return d=b.text(),(e=new Function(d))()}}})}(angular)}.call(this),function(){"use strict";!function(a){return angular.module(""+a+".Main",["ng","ngLoadScript",""+a+".controllers"])}("amo.minmax")}.call(this),function(){"use strict";angular.element(window.document).ready(function(){var a,b;try{return angular.bootstrap(window.document,["amo.minmax.Main"])}catch(c){return a=c,b=a.message.indexOf("?"),console.log(decodeURIComponent(a.message.slice(b+1))),console.log(a)}})}.call(this);